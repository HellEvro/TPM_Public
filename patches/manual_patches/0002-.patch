From 1a24c99c9263872c314965a661198040ab060695 Mon Sep 17 00:00:00 2001
From: Evro <esrodchenkov@gmail.com>
Date: Fri, 20 Feb 2026 01:48:08 +0300
Subject: [PATCH 2/6] =?utf-8?q?=D0=98=D0=98=20=D1=81=D0=BC=D0=BE=D1=82?=
 =?utf-8?q?=D1=80=D0=B8=D1=82=20=D0=B0=D0=BD=D0=B0=D0=BB=D0=B8=D1=82=D0=B8?=
 =?utf-8?q?=D0=BA=D1=83=20=D0=BF=D0=B5=D1=80=D0=B5=D0=B4=20=D0=BA=D0=B0?=
 =?utf-8?q?=D0=B6=D0=B4=D0=BE=D0=B9=20=D1=81=D0=B4=D0=B5=D0=BB=D0=BA=D0=BE?=
 =?utf-8?q?=D0=B9,=20=D0=BF=D0=B5=D1=80=D0=B5=D1=81=D1=87=D0=B8=D1=82?=
 =?utf-8?q?=D1=8B=D0=B2=D0=B0=D0=B5=D1=82=20=D1=80=D0=B5=D1=88=D0=B5=D0=BD?=
 =?utf-8?q?=D0=B8=D1=8F=20=D0=BF=D0=BE=20=D0=BE=D1=88=D0=B8=D0=B1=D0=BA?=
 =?utf-8?q?=D0=B0=D0=BC=20=D0=B8=20=D0=BD=D0=B5=D1=83=D0=B4=D0=B0=D1=87?=
 =?utf-8?q?=D0=BD=D1=8B=D0=BC=20=D0=BC=D0=BE=D0=BD=D0=B5=D1=82=D0=B0=D0=BC?=
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit

---
 bot_engine/ai/ai_integration.py |  67 ++++++++++++++++++--
 bot_engine/ai_analytics.py      | 109 +++++++++++++++++++++++++++++++-
 bots_modules/bot_class.py       |   6 +-
 docs/CHECKLIST_ANALYTICS.md     |   2 +
 4 files changed, 177 insertions(+), 7 deletions(-)

diff --git a/bot_engine/ai/ai_integration.py b/bot_engine/ai/ai_integration.py
index 3a7998cb..30fe7179 100644
--- a/bot_engine/ai/ai_integration.py
+++ b/bot_engine/ai/ai_integration.py
@@ -414,10 +414,23 @@ def should_open_position_with_ai(
 ) -> Dict:
     """
     –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω—É–∂–Ω–æ –ª–∏ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –ø–æ–∑–∏—Ü–∏—é —Å —É—á—ë—Ç–æ–º AI –∏ SMC.
-    –í bots.py: –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —á–µ—Ä–µ–∑ ai_inference (—Ç–æ–ª—å–∫–æ pkl-–º–æ–¥–µ–ª–∏, –±–µ–∑ ai.py/trainer).
-    –í ai.py: –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —á–µ—Ä–µ–∑ get_ai_system() (–æ–±—É—á–µ–Ω–∏–µ, –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Å–¥–µ–ª–∫–∏).
+    –ü–µ—Ä–µ–¥ —Ä–µ—à–µ–Ω–∏–µ–º —Å–º–æ—Ç—Ä–∏—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫—É (–æ—à–∏–±–∫–∏, –Ω–µ—É–¥–∞—á–Ω—ã–µ –º–æ–Ω–µ—Ç—ã) –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ.
     """
     try:
+        # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞: –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —è–≤–Ω–æ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –º–æ–Ω–µ—Ç/–¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤)
+        try:
+            from bot_engine.ai_analytics import apply_analytics_to_entry_decision
+            pre_allowed, _, pre_reason = apply_analytics_to_entry_decision(
+                symbol, direction, rsi, trend, base_allowed=True, base_confidence=1.0, base_reason=""
+            )
+            if not pre_allowed:
+                return {
+                    'should_open': False, 'ai_used': True, 'smc_used': False,
+                    'reason': pre_reason, 'ai_confidence': 0.0,
+                    'timestamp': datetime.now().isoformat()
+                }
+        except Exception as _ax:
+            logger.debug("apply_analytics (pre): %s", _ax)
         result = {
             'should_open': True,
             'ai_used': False,
@@ -554,6 +567,24 @@ def should_open_position_with_ai(
                 should_open = False
                 result['reason'] = f"AI confidence too low: {ai_conf_01:.2%}"
 
+        # –ü—Ä–∏–º–µ–Ω—è–µ–º –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∫ –∏—Ç–æ–≥–æ–≤–æ–º—É —Ä–µ—à–µ–Ω–∏—é
+        try:
+            from bot_engine.ai_analytics import apply_analytics_to_entry_decision
+            ai_conf = result.get('ai_confidence', 0.5)
+            should_open, ai_conf, reason_adj = apply_analytics_to_entry_decision(
+                symbol, direction, rsi, trend,
+                base_allowed=should_open, base_confidence=ai_conf,
+                base_reason=result.get('reason', ''),
+            )
+            result['ai_confidence'] = ai_conf
+            result['reason'] = reason_adj
+            ai_confidence_threshold = _confidence_01(config.get('ai_min_confidence', 0.65) if config else 0.65)
+            if should_open and ai_conf < ai_confidence_threshold:
+                should_open = False
+                result['reason'] = reason_adj + f" | –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å {ai_conf:.2%} < –ø–æ—Ä–æ–≥–∞"
+        except Exception as _ax2:
+            logger.debug("apply_analytics (post): %s", _ax2)
+
         result['should_open'] = should_open
         result['model_used'] = 'signal_predictor.pkl + SMC' if smc_signal else 'signal_predictor.pkl'
 
@@ -673,17 +704,33 @@ def get_ai_entry_decision(
     candles: List[Dict],
     current_price: float,
     prii_config: Dict = None,
-    coin_params: Dict = None
+    coin_params: Dict = None,
+    rsi: float = None,
+    trend: str = None,
 ) -> Dict[str, Any]:
     """
     –†–µ—à–µ–Ω–∏–µ –ò–ò –æ –≤—Ö–æ–¥–µ –≤ –ø–æ–∑–∏—Ü–∏—é (FullAI). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ full_ai_control.
-    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç allowed, confidence, reason. –¢–∞–π–º—Ñ—Ä–µ–π–º –Ω–µ –≤—Ö–æ–¥–∏—Ç –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Äî –±–µ—Ä—ë—Ç—Å—è –∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞.
+    –ü–µ—Ä–µ–¥ —Ä–µ—à–µ–Ω–∏–µ–º —Å–º–æ—Ç—Ä–∏—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫—É (–æ—à–∏–±–∫–∏, –Ω–µ—É–¥–∞—á–Ω—ã–µ –º–æ–Ω–µ—Ç—ã) –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ.
+    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç allowed, confidence, reason.
     """
     prii_config = prii_config or {}
     coin_params = coin_params or {}
     min_conf = _confidence_01(prii_config.get('ai_min_confidence', 0.7))
     result = {'allowed': False, 'confidence': 0.0, 'reason': 'AI not available'}
     try:
+        # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞: –ø–µ—Ä–µ–¥ —Ä–µ—à–µ–Ω–∏–µ–º —Å–º–æ—Ç—Ä–∏–º –æ—à–∏–±–∫–∏ –∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º
+        try:
+            from bot_engine.ai_analytics import apply_analytics_to_entry_decision
+            pre_allowed, pre_conf, pre_reason = apply_analytics_to_entry_decision(
+                symbol, direction, rsi, trend, base_allowed=True, base_confidence=1.0, base_reason=""
+            )
+            if not pre_allowed:
+                result['allowed'] = False
+                result['confidence'] = 0.0
+                result['reason'] = pre_reason
+                return result
+        except Exception as _ax:
+            logger.debug("apply_analytics_to_entry_decision: %s", _ax)
         from bot_engine.ai import get_ai_manager
         ai_manager = get_ai_manager()
         if not ai_manager or not ai_manager.is_available():
@@ -726,6 +773,18 @@ def get_ai_entry_decision(
             result['allowed'] = votes_short >= min_conf and votes_short >= votes_long
             result['confidence'] = votes_short
         result['reason'] = f"AI vote LONG={votes_long:.2f} SHORT={votes_short:.2f}"
+        # –ü—Ä–∏–º–µ–Ω—è–µ–º –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∫ –∏—Ç–æ–≥–æ–≤–æ–º—É —Ä–µ—à–µ–Ω–∏—é (—Å–Ω–∏–∂–µ–Ω–∏–µ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞)
+        try:
+            from bot_engine.ai_analytics import apply_analytics_to_entry_decision
+            result['allowed'], result['confidence'], result['reason'] = apply_analytics_to_entry_decision(
+                symbol, direction, rsi, trend,
+                base_allowed=result['allowed'], base_confidence=result['confidence'], base_reason=result['reason'],
+            )
+            if result['confidence'] < min_conf and result['allowed']:
+                result['allowed'] = False
+                result['reason'] = result['reason'] + f" | –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å {result['confidence']:.2%} < –ø–æ—Ä–æ–≥–∞ {min_conf:.2%}"
+        except Exception as _ax2:
+            logger.debug("apply_analytics (post): %s", _ax2)
         return result
     except Exception as e:
         logger.exception(f"get_ai_entry_decision {symbol} {direction}: {e}")
diff --git a/bot_engine/ai_analytics.py b/bot_engine/ai_analytics.py
index ae61b017..4b000b9c 100644
--- a/bot_engine/ai_analytics.py
+++ b/bot_engine/ai_analytics.py
@@ -109,7 +109,8 @@ def log_trade_close(
     source: str = "BOT",
     **extra,
 ) -> None:
-    """–õ–æ–≥–∏—Ä—É–µ—Ç –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏."""
+    """–õ–æ–≥–∏—Ä—É–µ—Ç –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏. –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∫–µ—à –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –¥–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–µ—à–µ–Ω–∏—è."""
+    invalidate_analytics_cache()
     log_event(
         "TRADE_CLOSE",
         symbol=symbol,
@@ -217,6 +218,110 @@ def get_events(
         return []
 
 
+_analytics_cache: Dict[str, Any] = {}
+_analytics_cache_ts: float = 0.0
+_ANALYTICS_CACHE_TTL_SEC = 300  # 5 –º–∏–Ω—É—Ç
+
+
+def _get_cached_analytics_for_entry(symbol: Optional[str] = None) -> Optional[Dict[str, Any]]:
+    """
+    –ö–µ—à–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ —Å TTL. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ò–ò –ø–µ—Ä–µ–¥ —Ä–µ—à–µ–Ω–∏–µ–º –æ –≤—Ö–æ–¥–µ.
+    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç problems, recommendations, metrics, unsuccessful_coins, unsuccessful_settings.
+    """
+    global _analytics_cache, _analytics_cache_ts
+    now = time.time()
+    if now - _analytics_cache_ts < _ANALYTICS_CACHE_TTL_SEC and _analytics_cache:
+        return _analytics_cache
+    try:
+        ctx = get_ai_analytics_context(symbol=symbol, hours_back=168, include_report=True)
+        _analytics_cache = ctx
+        _analytics_cache_ts = now
+        return ctx
+    except Exception as e:
+        logger.debug("_get_cached_analytics_for_entry: %s", e)
+        return _analytics_cache if _analytics_cache else None
+
+
+def invalidate_analytics_cache() -> None:
+    """–°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∫–µ—à (–≤—ã–∑—ã–≤–∞—Ç—å –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è —Å–¥–µ–ª–∫–∏)."""
+    global _analytics_cache_ts
+    _analytics_cache_ts = 0.0
+
+
+def apply_analytics_to_entry_decision(
+    symbol: str,
+    direction: str,
+    rsi: Optional[float],
+    trend: Optional[str],
+    base_allowed: bool,
+    base_confidence: float,
+    base_reason: str,
+) -> tuple:
+    """
+    –ü—Ä–∏–º–µ–Ω—è–µ—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∫ —Ä–µ—à–µ–Ω–∏—é –æ –≤—Ö–æ–¥–µ: –±–ª–æ–∫–∏—Ä—É–µ—Ç/—Å–Ω–∏–∂–∞–µ—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ—à–ª—ã—Ö –æ—à–∏–±–æ–∫.
+    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç (allowed, confidence, reason).
+    """
+    ctx = _get_cached_analytics_for_entry(symbol)
+    if not ctx:
+        return (base_allowed, base_confidence, base_reason)
+    allowed = base_allowed
+    confidence = base_confidence
+    reason = base_reason
+    problems = ctx.get("problems") or []
+    metrics = ctx.get("metrics") or {}
+    # unsuccessful_coins –∏ unsuccessful_settings –ø—Ä–∏—Ö–æ–¥—è—Ç –∏–∑ report, –∞ –Ω–µ –Ω–∞–ø—Ä—è–º—É—é
+    # get_ai_analytics_context –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç problems, recommendations, metrics
+    # –ù—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å unsuccessful_coins - –æ–Ω–∏ –≤ ai_block. –ü—Ä–æ–≤–µ—Ä–∏–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É get_ai_analytics_context
+    # - –æ–Ω–∞ –≤—ã–∑—ã–≤–∞–µ—Ç get_analytics_for_ai –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç unsuccessful_coins, unsuccessful_settings
+    # –ù–æ get_ai_analytics_context –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç –∏—Ö –≤ result! –î–æ–±–∞–≤–ª—é.
+    unsuccessful_coins = ctx.get("unsuccessful_coins") or []
+    unsuccessful_settings = ctx.get("unsuccessful_settings") or []
+    sym_upper = (symbol or "").upper()
+    for uc in unsuccessful_coins:
+        if (uc.get("symbol") or "").upper() == sym_upper:
+            wr = uc.get("win_rate_pct") or 0
+            pnl = uc.get("pnl_usdt") or 0
+            if wr < 35 or pnl < -50:
+                allowed = False
+                reason = f"–ê–Ω–∞–ª–∏—Ç–∏–∫–∞: –º–æ–Ω–µ—Ç–∞ –Ω–µ—É–¥–∞—á–Ω–∞—è (Win Rate {wr}%, PnL {pnl} USDT). –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤—Ö–æ–¥–∞."
+                return (allowed, 0.0, reason)
+            if allowed:
+                confidence = max(0, confidence - 0.15)
+                reason = base_reason + f" | –°–Ω–∏–∂–µ–Ω–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: –º–æ–Ω–µ—Ç–∞ —Å –Ω–∏–∑–∫–∏–º WR ({wr}%)"
+    for us in unsuccessful_settings:
+        if (us.get("symbol") or "").upper() != sym_upper:
+            continue
+        bad_rsi = us.get("bad_rsi_ranges") or []
+        bad_trends = us.get("bad_trends") or []
+        if rsi is not None:
+            for br in bad_rsi:
+                rng = br.get("rsi_range", "")
+                if "-" in rng:
+                    try:
+                        part = rng.split("(")[0].strip()
+                        parts = part.split("-")
+                        if len(parts) >= 2:
+                            lo, hi = int(parts[0]), int(parts[1])
+                            if lo <= rsi <= hi:
+                                allowed = False
+                                reason = f"–ê–Ω–∞–ª–∏—Ç–∏–∫–∞: RSI {rsi:.1f} –≤ –Ω–µ—É–¥–∞—á–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ {rng}"
+                                return (allowed, 0.0, reason)
+                    except (ValueError, IndexError, TypeError):
+                        pass
+        if trend and bad_trends:
+            trend_upper = str(trend).upper()
+            for bt in bad_trends:
+                t = str(bt.get("trend", "")).upper()
+                if t and trend_upper == t:
+                    confidence = max(0, confidence - 0.2)
+                    reason = base_reason + f" | –¢—Ä–µ–Ω–¥ {trend} ‚Äî –Ω–µ—É–¥–∞—á–Ω—ã–π –ø–æ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ"
+                    break
+    if problems and "—Å–µ—Ä–∏—è —É–±—ã—Ç–∫–æ–≤" in " ".join(problems).lower() and confidence > 0.5:
+        confidence = min(confidence, 0.6)
+        reason = base_reason + " | –£—á—Ç–µ–Ω–∞ —Å–µ—Ä–∏—è —É–±—ã—Ç–æ—á–Ω—ã—Ö —Å–¥–µ–ª–æ–∫"
+    return (allowed, confidence, reason)
+
+
 def get_ai_analytics_context(
     symbol: Optional[str] = None,
     hours_back: float = 24.0,
@@ -264,6 +369,8 @@ def get_ai_analytics_context(
             result["problems"] = ai_block.get("problems", [])
             result["recommendations"] = ai_block.get("recommendations", [])
             result["metrics"] = ai_block.get("metrics", {})
+            result["unsuccessful_coins"] = ai_block.get("unsuccessful_coins", [])
+            result["unsuccessful_settings"] = ai_block.get("unsuccessful_settings", [])
         except Exception as e:
             logger.debug("get_ai_analytics_context: report %s", e)
             result["problems"] = []
diff --git a/bots_modules/bot_class.py b/bots_modules/bot_class.py
index 38eaf2a4..e0b22063 100644
--- a/bots_modules/bot_class.py
+++ b/bots_modules/bot_class.py
@@ -530,7 +530,8 @@ class NewTradingBot:
                     except ImportError:
                         pass
                     decision = get_ai_entry_decision(
-                        self.symbol, 'LONG', candles, current_price, fullai_config, coin_params
+                        self.symbol, 'LONG', candles, current_price, fullai_config, coin_params,
+                        rsi=rsi, trend=trend
                     )
                     if decision.get('allowed'):
                         # ‚úÖ –ö–†–ò–¢–ò–ß–ù–û: –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ –ø–æ—Å–ª–µ —É–±—ã—Ç–∫–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∏ –¥–ª—è FullAI
@@ -716,7 +717,8 @@ class NewTradingBot:
                     except ImportError:
                         pass
                     decision = get_ai_entry_decision(
-                        self.symbol, 'SHORT', candles, current_price, fullai_config, coin_params
+                        self.symbol, 'SHORT', candles, current_price, fullai_config, coin_params,
+                        rsi=rsi, trend=trend
                     )
                     if decision.get('allowed'):
                         # ‚úÖ –ö–†–ò–¢–ò–ß–ù–û: –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ –ø–æ—Å–ª–µ —É–±—ã—Ç–∫–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∏ –¥–ª—è FullAI
diff --git a/docs/CHECKLIST_ANALYTICS.md b/docs/CHECKLIST_ANALYTICS.md
index 5e0e872e..82c3ac83 100644
--- a/docs/CHECKLIST_ANALYTICS.md
+++ b/docs/CHECKLIST_ANALYTICS.md
@@ -19,5 +19,7 @@
 | 15 | –°–±–æ—Ä –ø—Ä–∏ –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–µ/—Ä–µ—à–µ–Ω–∏–∏/–¥–µ–π—Å—Ç–≤–∏–∏ | ‚úÖ | log_trade_open, log_trade_close –≤ bot_class; FullAI ‚Üí ai_analytics —á–µ—Ä–µ–∑ append_event |
 | 16 | –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –ò–ò (–ø—Ä–æ–±–ª–µ–º—ã, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏) | ‚úÖ | get_ai_analytics_context(), API /api/bots/analytics/ai-context |
 | 17 | AI summary –≤ –æ—Ç–≤–µ—Ç–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ | ‚úÖ | report.ai_summary –≤ GET /api/bots/analytics |
+| 18 | –ò–ò —Å–º–æ—Ç—Ä–∏—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫—É –ø–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–æ–π | ‚úÖ | apply_analytics_to_entry_decision –≤ get_ai_entry_decision –∏ should_open_position_with_ai |
+| 19 | –ò–ò –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –ø–æ –æ—à–∏–±–∫–∞–º | ‚úÖ | –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –º–æ–Ω–µ—Ç, —Å–Ω–∏–∂–µ–Ω–∏–µ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–∏ bad_rsi/bad_trend, –∫–µ—à 5 –º–∏–Ω |
 
 –õ–µ–≥–µ–Ω–¥–∞: ‚úÖ —Å–¥–µ–ª–∞–Ω–æ, üîÑ –≤ —Ä–∞–±–æ—Ç–µ/–¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —ç—Ç–æ–π –∑–∞–¥–∞—á–µ.
-- 
2.53.0.windows.1


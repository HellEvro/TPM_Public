# üéØ –ì–ò–ë–ö–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê –ü–ê–†–ê–ú–ï–¢–†–û–í –¢–†–ï–ù–î–ê

**–î–∞—Ç–∞:** 2025-10-17  
**–í–µ—Ä—Å–∏—è:** 1.0

---

## üìã –û–ë–ó–û–†

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ **–≥–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–¥–∞:
- ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- ‚úÖ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã
- ‚úÖ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- ‚úÖ –ú—è–≥–∫–∏–µ —É—Å–ª–æ–≤–∏—è (N –∏–∑ M –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π)

---

## ‚öôÔ∏è –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò

### **bot_engine/bot_config.py**

```python
# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ç—Ä–µ–Ω–¥–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
TREND_CONFIRMATION_BARS = 3  # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—á–µ–π –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
TREND_MIN_CONFIRMATIONS = 2  # –ú–∏–Ω–∏–º—É–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π –∏–∑ 3 –≤–æ–∑–º–æ–∂–Ω—ã—Ö

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤
TREND_REQUIRE_SLOPE = False  # –ù–∞–∫–ª–æ–Ω EMA_long (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π)
TREND_REQUIRE_PRICE = True   # –¶–µ–Ω–∞ vs EMA_long (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)
TREND_REQUIRE_CANDLES = True # N —Å–≤–µ—á–µ–π –ø–æ–¥—Ä—è–¥ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)
```

### **SystemConfig**

```python
class SystemConfig:
    # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ç—Ä–µ–Ω–¥–∞
    TREND_CONFIRMATION_BARS = 3
    TREND_MIN_CONFIRMATIONS = 2
    
    # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–æ–∫
    TREND_REQUIRE_SLOPE = False
    TREND_REQUIRE_PRICE = True
    TREND_REQUIRE_CANDLES = True
```

---

## üé® –ò–ù–î–ò–í–ò–î–£–ê–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò –î–õ–Ø –ú–û–ù–ï–¢

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ data/optimal_ema.json**

–¢–µ–ø–µ—Ä—å –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```json
{
  "BTC": {
    "ema_short_period": 50,
    "ema_long_period": 200,
    "accuracy": 95.5,
    
    // –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    "trend_confirmation_bars": 3,
    "trend_min_confirmations": 2,
    "trend_require_slope": false,
    "trend_require_price": true,
    "trend_require_candles": true
  },
  
  "ETH": {
    "ema_short_period": 60,
    "ema_long_period": 180,
    "accuracy": 97.2,
    
    // –î–ª—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ–π –º–æ–Ω–µ—Ç—ã - –±–æ–ª–µ–µ –º—è–≥–∫–∏–µ —É—Å–ª–æ–≤–∏—è
    "trend_confirmation_bars": 2,
    "trend_min_confirmations": 1,
    "trend_require_slope": false,
    "trend_require_price": false,
    "trend_require_candles": true
  }
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ —É–∫–∞–∑–∞–Ω (`null`), –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `SystemConfig`.

---

## üîç –õ–û–ì–ò–ö–ê –û–ü–†–ï–î–ï–õ–ï–ù–ò–Ø –¢–†–ï–ù–î–ê

### **–ê–ª–≥–æ—Ä–∏—Ç–º (calculations.py, analyze_trend_6h)**

```python
def analyze_trend_6h(symbol, exchange_obj=None):
    # 1. –ü–æ–ª—É—á–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ò–õ–ò –≥–ª–æ–±–∞–ª—å–Ω—ã–µ)
    ema_periods = get_optimal_ema_periods(symbol)
    trend_confirmation_bars = ema_periods.get('trend_confirmation_bars') or SystemConfig.TREND_CONFIRMATION_BARS
    trend_min_confirmations = ema_periods.get('trend_min_confirmations') or SystemConfig.TREND_MIN_CONFIRMATIONS
    trend_require_slope = ema_periods.get('trend_require_slope') if ... else SystemConfig.TREND_REQUIRE_SLOPE
    trend_require_price = ema_periods.get('trend_require_price') if ... else SystemConfig.TREND_REQUIRE_PRICE
    trend_require_candles = ema_periods.get('trend_require_candles') if ... else SystemConfig.TREND_REQUIRE_CANDLES
    
    # 2. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º EMA –∏ –¥—Ä—É–≥–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
    # ...
    
    # 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º UP Trend
    if ema_short > ema_long:  # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∏–≥–Ω–∞–ª: –∫—Ä–µ—Å—Ç –≤–≤–µ—Ä—Ö
        confirmations = 0
        required_confirmations = 0
        
        # –¶–µ–Ω–∞ –≤—ã—à–µ EMA_long
        if current_close > ema_long:
            confirmations += 1
        if trend_require_price:  # –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∫—Ä–∏—Ç–µ—Ä–∏–π?
            required_confirmations += 1
        
        # –ù–∞–∫–ª–æ–Ω EMA_long –≤–≤–µ—Ä—Ö
        if ema_long_slope > 0:
            confirmations += 1
        if trend_require_slope:  # –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∫—Ä–∏—Ç–µ—Ä–∏–π?
            required_confirmations += 1
        
        # N —Å–≤–µ—á–µ–π –ø–æ–¥—Ä—è–¥ –≤—ã—à–µ EMA_long
        if closes_above >= trend_min_confirmations:
            confirmations += 1
        if trend_require_candles:  # –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∫—Ä–∏—Ç–µ—Ä–∏–π?
            required_confirmations += 1
        
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç—Ä–µ–Ω–¥: –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ + –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö
        if confirmations >= max(trend_min_confirmations, required_confirmations):
            trend = 'UP'
    
    # 4. DOWN Trend - –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ
    # ...
```

---

## üí° –ü–†–ò–ú–ï–†–´ –ù–ê–°–¢–†–û–ï–ö

### **–ü—Ä–∏–º–µ—Ä 1: –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ —É—Å–ª–æ–≤–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)**

```python
TREND_CONFIRMATION_BARS = 3      # –ü—Ä–æ–≤–µ—Ä—è–µ–º 3 —Å–≤–µ—á–∏
TREND_MIN_CONFIRMATIONS = 2      # –ù—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 2 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
TREND_REQUIRE_SLOPE = False      # –ù–∞–∫–ª–æ–Ω - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π (–¥–∞–µ—Ç +1 –±–∞–ª–ª)
TREND_REQUIRE_PRICE = True       # –¶–µ–Ω–∞ - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π
TREND_REQUIRE_CANDLES = True     # –°–≤–µ—á–∏ - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- UP: –∫—Ä–µ—Å—Ç –≤–≤–µ—Ä—Ö + (—Ü–µ–Ω–∞ > EMA_long –ò–õ–ò –Ω–∞–∫–ª–æ–Ω > 0) + (‚â•2 —Å–≤–µ—á–∏ –∏–∑ 3 > EMA_long)
- **–¢–æ—á–Ω–æ—Å—Ç—å:** –≤—ã—Å–æ–∫–∞—è
- **–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** —Å—Ä–µ–¥–Ω—è—è
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –º–æ–Ω–µ—Ç—ã, –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è

### **–ü—Ä–∏–º–µ—Ä 2: –ú—è–≥–∫–∏–µ —É—Å–ª–æ–≤–∏—è (–≤–æ–ª–∞—Ç–∏–ª—å–Ω—ã–µ –º–æ–Ω–µ—Ç—ã)**

```python
TREND_CONFIRMATION_BARS = 2      # –ü—Ä–æ–≤–µ—Ä—è–µ–º 2 —Å–≤–µ—á–∏
TREND_MIN_CONFIRMATIONS = 1      # –ù—É–∂–Ω–∞ —Ö–æ—Ç—è –±—ã 1 —Å–≤–µ—á–∞
TREND_REQUIRE_SLOPE = False      # –ù–∞–∫–ª–æ–Ω - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π
TREND_REQUIRE_PRICE = False      # –¶–µ–Ω–∞ - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π
TREND_REQUIRE_CANDLES = True     # –°–≤–µ—á–∏ - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- UP: –∫—Ä–µ—Å—Ç –≤–≤–µ—Ä—Ö + (‚â•1 —Å–≤–µ—á–∞ –∏–∑ 2 > EMA_long) + –ª—é–±—ã–µ 1-2 –¥–æ–ø. –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- **–¢–æ—á–Ω–æ—Å—Ç—å:** —Å—Ä–µ–¥–Ω—è—è
- **–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –≤—ã—Å–æ–∫–∞—è
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –≤–æ–ª–∞—Ç–∏–ª—å–Ω—ã–µ –º–æ–Ω–µ—Ç—ã, –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è

### **–ü—Ä–∏–º–µ—Ä 3: –°—Ç—Ä–æ–≥–∏–µ —É—Å–ª–æ–≤–∏—è (–æ—Å—Ç–æ—Ä–æ–∂–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è)**

```python
TREND_CONFIRMATION_BARS = 5      # –ü—Ä–æ–≤–µ—Ä—è–µ–º 5 —Å–≤–µ—á–µ–π
TREND_MIN_CONFIRMATIONS = 4      # –ù—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 4 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
TREND_REQUIRE_SLOPE = True       # –ù–∞–∫–ª–æ–Ω - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π
TREND_REQUIRE_PRICE = True       # –¶–µ–Ω–∞ - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π
TREND_REQUIRE_CANDLES = True     # –°–≤–µ—á–∏ - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- UP: –∫—Ä–µ—Å—Ç –≤–≤–µ—Ä—Ö + —Ü–µ–Ω–∞ > EMA + –Ω–∞–∫–ª–æ–Ω > 0 + (‚â•4 —Å–≤–µ—á–∏ –∏–∑ 5 > EMA_long)
- **–¢–æ—á–Ω–æ—Å—Ç—å:** –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è
- **–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –Ω–∏–∑–∫–∞—è (–º–Ω–æ–≥–æ NEUTRAL)
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –æ—á–µ–Ω—å –æ—Å—Ç–æ—Ä–æ–∂–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è

---

## üéØ –ö–ê–ö –ù–ê–°–¢–†–û–ò–¢–¨ –î–õ–Ø –ö–û–ù–ö–†–ï–¢–ù–û–ô –ú–û–ù–ï–¢–´

### **–í–∞—Ä–∏–∞–Ω—Ç 1: –í—Ä—É—á–Ω—É—é –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å optimal_ema.json**

1. –û—Ç–∫—Ä–æ–π—Ç–µ `data/optimal_ema.json`
2. –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—É—é –º–æ–Ω–µ—Ç—É
3. –î–æ–±–∞–≤—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```json
{
  "MYCOIN": {
    "ema_short_period": 50,
    "ema_long_period": 200,
    "accuracy": 98.5,
    "trend_confirmation_bars": 2,    // –î–æ–±–∞–≤–ª—è–µ–º
    "trend_min_confirmations": 1,    // –º—è–≥–∫–∏–µ
    "trend_require_slope": false,    // —É—Å–ª–æ–≤–∏—è
    "trend_require_price": false,
    "trend_require_candles": true
  }
}
```

4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª
5. –ù–∞–∂–º–∏—Ç–µ "üîÑ Hot Reload" –≤ UI –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

### **–í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ**

```python
from bot_engine.optimal_ema_manager import optimal_ema_data, save_optimal_ema_periods

# –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –º–æ–Ω–µ—Ç—ã
optimal_ema_data['MYCOIN']['trend_confirmation_bars'] = 2
optimal_ema_data['MYCOIN']['trend_min_confirmations'] = 1
optimal_ema_data['MYCOIN']['trend_require_slope'] = False

# –°–æ—Ö—Ä–∞–Ω—è–µ–º
save_optimal_ema_periods()
```

---

## üìä –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ù–ê–°–¢–†–û–ï–ö

### **–¢–µ—Å—Ç 1: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫**

```bash
python tests/test_trend_methods.py
```

–ü–æ–∫–∞–∂–µ—Ç –∫–∞–∫ —Ä–∞–∑–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–ª–∏—è—é—Ç –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–¥–∞.

### **–¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–æ–Ω–µ—Ç—ã**

```python
from bots_modules.calculations import analyze_trend_6h

# –¢–µ—Å—Ç–∏—Ä—É–µ–º —Å —Ç–µ–∫—É—â–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
result = analyze_trend_6h('BTC')
print(f"Trend: {result['trend']}")
print(f"Confirmations: {result['min_confirmations']}")
```

---

## üîß –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –ù–ê–°–¢–†–û–ô–ö–ï

### **–ü–æ —Ç–∏–ø—É –º–æ–Ω–µ—Ç—ã:**

| –¢–∏–ø –º–æ–Ω–µ—Ç—ã | confirmation_bars | min_confirmations | require_slope | require_price | require_candles |
|------------|-------------------|-------------------|---------------|---------------|-----------------|
| **–°—Ç–∞–±–∏–ª—å–Ω–∞—è** (BTC, ETH) | 3 | 2 | False | True | True |
| **–í–æ–ª–∞—Ç–∏–ª—å–Ω–∞—è** (–∞–ª—å—Ç–∫–æ–∏–Ω—ã) | 2 | 1 | False | False | True |
| **–û—á–µ–Ω—å –≤–æ–ª–∞—Ç–∏–ª—å–Ω–∞—è** (–º–µ–º—ã) | 1 | 1 | False | False | False |
| **–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–∞—è** (–∫—Ä—É–ø–Ω—ã–µ —Å—É–º–º—ã) | 5 | 4 | True | True | True |

### **–ü–æ —Å—Ç–∏–ª—é —Ç–æ—Ä–≥–æ–≤–ª–∏:**

| –°—Ç–∏–ª—å | confirmation_bars | min_confirmations | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-------------------|-------------------|----------|
| **–ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π** | 1-2 | 1 | –ú–∞–∫—Å–∏–º—É–º —Å–∏–≥–Ω–∞–ª–æ–≤, –±–æ–ª—å—à–µ —Ä–∏—Å–∫–æ–≤ |
| **–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π** | 2-3 | 2 | –ë–∞–ª–∞–Ω—Å —Ç–æ—á–Ω–æ—Å—Ç–∏ –∏ —Å–∏–≥–Ω–∞–ª–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) |
| **–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π** | 4-5 | 3-4 | –í—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å, –º–µ–Ω—å—à–µ —Å–∏–≥–Ω–∞–ª–æ–≤ |

---

## ‚úÖ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –ù–û–í–û–ô –°–ò–°–¢–ï–ú–´

1. **üé® –ì–∏–±–∫–æ—Å—Ç—å**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã –æ—Ç–¥–µ–ª—å–Ω–æ
   - –ú–æ–∂–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å

2. **‚öôÔ∏è –ü—Ä–æ—Å—Ç–æ—Ç–∞**
   - –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ (`optimal_ema.json`)
   - –ù–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å –∫–æ–¥ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

3. **üîÑ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**
   - –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ –∑–∞–¥–∞–Ω—ã ‚Üí –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω—ã–µ
   - –°—Ç–∞—Ä—ã–µ –º–æ–Ω–µ—Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

4. **üìà –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
   - –ú–æ–∂–Ω–æ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - –õ–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å

5. **üöÄ Hot Reload**
   - –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
   - –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üéØ –ò–¢–û–ì

### **–ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**

‚úÖ –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `bot_config.py` –∏ `SystemConfig`  
‚úÖ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `optimal_ema.json`  
‚úÖ –ì–∏–±–∫–∞—è –ª–æ–≥–∏–∫–∞ –≤ `analyze_trend_6h()`  
‚úÖ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏  
‚úÖ –ú—è–≥–∫–∏–µ —É—Å–ª–æ–≤–∏—è (N –∏–∑ M –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π)  
‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å  
‚úÖ Hot Reload –ø–æ–¥–¥–µ—Ä–∂–∫–∞  

### **–¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):**

```python
TREND_CONFIRMATION_BARS = 3      # 3 —Å–≤–µ—á–∏
TREND_MIN_CONFIRMATIONS = 2      # –ú–∏–Ω–∏–º—É–º 2 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
TREND_REQUIRE_SLOPE = False      # –ù–∞–∫–ª–æ–Ω –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π
TREND_REQUIRE_PRICE = True       # –¶–µ–Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞
TREND_REQUIRE_CANDLES = True     # –°–≤–µ—á–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
```

**–≠—Ç–æ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** - –¥–∞—é—Ç —Ö–æ—Ä–æ—à—É—é —Ç–æ—á–Ω–æ—Å—Ç—å –±–µ–∑ –∏–∑–ª–∏—à–Ω–µ–π —Å—Ç—Ä–æ–≥–æ—Å—Ç–∏!

---

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ

